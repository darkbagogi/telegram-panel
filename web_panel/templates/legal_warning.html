{% extends "base.html" %}

{% block title %}Yasal UyarÄ± ve GÃ¼venlik Bildirimi{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Kritik UyarÄ± Banner -->
    <div class="alert alert-danger border-0 shadow-lg mb-4" style="background: linear-gradient(135deg, #dc3545, #c82333); border-radius: 15px;">
        <div class="row align-items-center">
            <div class="col-auto">
                <i class="fas fa-exclamation-triangle fa-3x text-white"></i>
            </div>
            <div class="col">
                <h4 class="alert-heading text-white mb-2">
                    <i class="fas fa-shield-alt me-2"></i>KRÄ°TÄ°K YASAL UYARI
                </h4>
                <p class="text-white mb-0 fs-5">
                    Bu sistem sadece yasal ve etik amaÃ§lar iÃ§in kullanÄ±lmalÄ±dÄ±r. Yasa dÄ±ÅŸÄ± faaliyetlerde kullanÄ±mÄ± kesinlikle yasaktÄ±r.
                </p>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Ana UyarÄ± KartÄ± -->
        <div class="col-12 mb-4">
            <div class="card border-0 shadow-lg" style="border-radius: 20px; background: rgba(255, 255, 255, 0.95);">
                <div class="card-header bg-danger text-white" style="border-radius: 20px 20px 0 0;">
                    <h3 class="mb-0">
                        <i class="fas fa-gavel me-2"></i>YASAL SORUMLULUK VE UYARI
                    </h3>
                </div>
                <div class="card-body p-4">
                    <div class="alert alert-warning border-0 mb-4" style="background: rgba(255, 193, 7, 0.1); border-radius: 15px;">
                        <h5 class="text-warning">
                            <i class="fas fa-exclamation-triangle me-2"></i>DÄ°KKAT: Bu sistem aÅŸaÄŸÄ±daki amaÃ§lar iÃ§in kullanÄ±lamaz:
                        </h5>
                        <ul class="list-unstyled mt-3 mb-0">
                            <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>Bahis siteleri ve kumar faaliyetleri</li>
                            <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>DolandÄ±rÄ±cÄ±lÄ±k ve sahte promosyonlar</li>
                            <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>Spam ve istenmeyen mesaj gÃ¶nderimi</li>
                            <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>KiÅŸisel verilerin izinsiz toplanmasÄ±</li>
                            <li class="mb-2"><i class="fas fa-times-circle text-danger me-2"></i>TerÃ¶r Ã¶rgÃ¼tleri ve illegal gruplar</li>
                            <li class="mb-0"><i class="fas fa-times-circle text-danger me-2"></i>Nefret sÃ¶ylemi ve ayrÄ±mcÄ±lÄ±k</li>
                        </ul>
                    </div>

                    <!-- TCK Maddeleri -->
                    <div class="row">
                        <div class="col-md-12 mb-4">
                            <div class="card border-danger h-100">
                                <div class="card-header bg-danger text-white">
                                    <h5 class="mb-0"><i class="fas fa-balance-scale me-2"></i>âš–ï¸ Ä°lgili Kanun Maddeleri</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="article-category mb-4">
                                                <h6 class="text-danger">ğŸ° Bahis ve Kumar SuÃ§larÄ±</h6>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 228:</strong>
                                                    <span class="small">Åans oyunlarÄ± oynatan kiÅŸi 2-5 yÄ±l hapis cezasÄ±</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>5326 SayÄ±lÄ± Kabahatler Kanunu:</strong>
                                                    <span class="small">YasadÄ±ÅŸÄ± bahis faaliyetleri - Ä°dari para cezasÄ±</span>
                                                </div>
                                            </div>

                                            <div class="article-category mb-4">
                                                <h6 class="text-danger">ğŸ’» BiliÅŸim SuÃ§larÄ±</h6>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 244:</strong>
                                                    <span class="small">BiliÅŸim sistemine girme - 1-3 yÄ±l hapis</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 245:</strong>
                                                    <span class="small">Sistemi engelleme, bozma - 2-6 yÄ±l hapis</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 243:</strong>
                                                    <span class="small">BiliÅŸim sistemini kullanarak dolandÄ±rÄ±cÄ±lÄ±k</span>
                                                </div>
                                            </div>

                                            <div class="article-category mb-4">
                                                <h6 class="text-danger">ğŸ”’ KiÅŸisel Veri ve Gizlilik</h6>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 135:</strong>
                                                    <span class="small">KiÅŸisel verileri hukuka aykÄ±rÄ± iÅŸleme - 2-4 yÄ±l hapis</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 136:</strong>
                                                    <span class="small">Verileri hukuka aykÄ±rÄ± verme veya ele geÃ§irme</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>KVKK Madde 18:</strong>
                                                    <span class="small">KiÅŸisel veri ihlali - 5.000-1.000.000 TL ceza</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="article-category mb-4">
                                                <h6 class="text-danger">ğŸ“¢ Spam ve Reklam SuÃ§larÄ±</h6>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 157:</strong>
                                                    <span class="small">DolandÄ±rÄ±cÄ±lÄ±k - 1-5 yÄ±l hapis</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>6563 SayÄ±lÄ± Kanun:</strong>
                                                    <span class="small">Ticari elektronik ileti - 100.000 TL ceza</span>
                                                </div>
                                            </div>

                                            <div class="article-category mb-4">
                                                <h6 class="text-danger">ğŸš« TerÃ¶r ve Ã–rgÃ¼t SuÃ§larÄ±</h6>
                                                <div class="mb-2">
                                                    <strong>TMK Madde 7/2:</strong>
                                                    <span class="small">TerÃ¶r Ã¶rgÃ¼tÃ¼ propagandasÄ± - 1-3 yÄ±l hapis</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 220:</strong>
                                                    <span class="small">Ã–rgÃ¼t kurma ve yÃ¶netme - 5-12 yÄ±l hapis</span>
                                                </div>
                                            </div>

                                            <div class="article-category mb-4">
                                                <h6 class="text-danger">âš ï¸ DiÄŸer Ä°lgili SuÃ§lar</h6>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 142:</strong>
                                                    <span class="small">Kumar oynatma - 2-5 yÄ±l hapis</span>
                                                </div>
                                                <div class="mb-2">
                                                    <strong>TCK Madde 216:</strong>
                                                    <span class="small">HalkÄ± kin ve dÃ¼ÅŸmanlÄ±ÄŸa tahrik - 1-3 yÄ±l hapis</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- GÃ¼venli KullanÄ±m -->
                    <div class="row">
                        <div class="col-md-12 mb-4">
                            <div class="card border-success h-100">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0"><i class="fas fa-shield-alt me-2"></i>âœ… GÃ¼venli ve Yasal KullanÄ±m AlanlarÄ±</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <h6 class="text-success"><i class="fas fa-check-circle me-2"></i>AraÅŸtÄ±rma AmaÃ§lÄ±</h6>
                                                <p class="small">Akademik ve bilimsel araÅŸtÄ±rmalar iÃ§in kullanÄ±m.</p>
                                            </div>
                                            <div class="mb-3">
                                                <h6 class="text-success"><i class="fas fa-check-circle me-2"></i>GÃ¼venlik Testi</h6>
                                                <p class="small">Siber gÃ¼venlik ve savunma geliÅŸtirme amaÃ§lÄ±.</p>
                                            </div>
                                            <div class="mb-3">
                                                <h6 class="text-success"><i class="fas fa-check-circle me-2"></i>EÄŸitim AmaÃ§lÄ±</h6>
                                                <p class="small">Teknik eÄŸitim ve Ã¶ÄŸrenme sÃ¼reÃ§leri iÃ§in.</p>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <h6 class="text-success"><i class="fas fa-check-circle me-2"></i>Yasal Ä°ÅŸ SÃ¼reÃ§leri</h6>
                                                <p class="small">MeÅŸru ticari faaliyetler ve pazarlama.</p>
                                            </div>
                                            <div class="mb-3">
                                                <h6 class="text-success"><i class="fas fa-check-circle me-2"></i>KiÅŸisel Projeler</h6>
                                                <p class="small">Yasal Ã§erÃ§evede kiÅŸisel geliÅŸtirme projeleri.</p>
                                            </div>
                                            <div class="mb-0">
                                                <h6 class="text-success"><i class="fas fa-check-circle me-2"></i>Teknoloji GeliÅŸtirme</h6>
                                                <p class="small">Yasal yazÄ±lÄ±m ve teknoloji geliÅŸtirme sÃ¼reÃ§leri.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- KullanÄ±cÄ± TaahhÃ¼tÃ¼ -->
                    <div class="card border-primary mt-4">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><i class="fas fa-handshake me-2"></i>KullanÄ±cÄ± TaahhÃ¼tÃ¼</h5>
                        </div>
                        <div class="card-body">
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="legalAgreement1" required>
                                <label class="form-check-label" for="legalAgreement1">
                                    Bu sistemi sadece yasal amaÃ§lar iÃ§in kullanacaÄŸÄ±mÄ± taahhÃ¼t ediyorum.
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="legalAgreement2" required>
                                <label class="form-check-label" for="legalAgreement2">
                                    Bahis, kumar ve yasa dÄ±ÅŸÄ± faaliyetlerde kullanmayacaÄŸÄ±mÄ± kabul ediyorum.
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="legalAgreement3" required>
                                <label class="form-check-label" for="legalAgreement3">
                                    KiÅŸisel verileri koruyacaÄŸÄ±mÄ± ve KVKK'ya uyacaÄŸÄ±mÄ± beyan ediyorum.
                                </label>
                            </div>
                            <div class="form-check mb-4">
                                <input class="form-check-input" type="checkbox" id="legalAgreement4" required>
                                <label class="form-check-label" for="legalAgreement4">
                                    Yasal sorumluluklarÄ±n tamamen bana ait olduÄŸunu kabul ediyorum.
                                </label>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button type="button" class="btn btn-success btn-lg" id="acceptTerms" disabled>
                                    <i class="fas fa-check me-2"></i>TaahhÃ¼tleri Kabul Et ve Devam Et
                                </button>
                                <button type="button" class="btn btn-danger" id="rejectTerms" data-redirect-url="{{ url_for('dashboard') }}">
                                    <i class="fas fa-times me-2"></i>Kabul Etmiyorum - Ana Sayfaya DÃ¶n
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ä°letiÅŸim Bilgileri -->
    <div class="row">
        <div class="col-12">
            <div class="card border-0 shadow" style="border-radius: 15px; background: rgba(255, 255, 255, 0.9);">
                <div class="card-body text-center p-4">
                    <h5 class="text-muted mb-3">
                        <i class="fas fa-info-circle me-2"></i>Yasal DanÄ±ÅŸmanlÄ±k ve Destek
                    </h5>
                    <p class="text-muted mb-0">
                        Yasal konularda ÅŸÃ¼pheleriniz varsa, lÃ¼tfen bir hukuk mÃ¼ÅŸaviri ile gÃ¶rÃ¼ÅŸÃ¼n.
                        Bu sistem sadece teknik bir araÃ§tÄ±r ve yasal tavsiye vermez.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    const acceptButton = document.getElementById('acceptTerms');
    const rejectButton = document.getElementById('rejectTerms');
    
    // Handle reject button click
    rejectButton.addEventListener('click', function() {
        const redirectUrl = this.getAttribute('data-redirect-url');
        window.location.href = redirectUrl;
    });
    
    function checkAllBoxes() {
        const allChecked = Array.from(checkboxes).every(cb => cb.checked);
        acceptButton.disabled = !allChecked;
        
        if (allChecked) {
            acceptButton.classList.remove('btn-secondary');
            acceptButton.classList.add('btn-success');
        } else {
            acceptButton.classList.remove('btn-success');
            acceptButton.classList.add('btn-secondary');
        }
    }
    
    checkboxes.forEach(cb => {
        cb.addEventListener('change', checkAllBoxes);
    });
    
    acceptButton.addEventListener('click', function() {
        if (!acceptButton.disabled) {
            // Loading durumu
            acceptButton.disabled = true;
            acceptButton.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Kaydediliyor...';
            
            // API'ye taahhÃ¼tleri gÃ¶nder
            fetch('/api/accept-legal', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + localStorage.getItem('access_token')
                },
                body: JSON.stringify({
                    agreements: ['legal', 'gambling', 'privacy', 'responsibility']
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // BaÅŸarÄ± mesajÄ± gÃ¶ster
                    Swal.fire({
                        icon: 'success',
                        title: 'TaahhÃ¼tler Kabul Edildi',
                        text: 'Yasal taahhÃ¼tleriniz kaydedildi. Sistemi sorumlu bir ÅŸekilde kullanÄ±n.',
                        confirmButtonText: 'AnladÄ±m'
                    }).then(() => {
                        window.location.href = '{{ url_for("dashboard") }}';
                    });
                } else {
                    throw new Error(data.error || 'Bilinmeyen hata');
                }
            })
            .catch(error => {
                console.error('Hata:', error);
                Swal.fire({
                    icon: 'error',
                    title: 'Hata',
                    text: 'TaahhÃ¼tler kaydedilirken hata oluÅŸtu: ' + error.message
                });
                
                // Button'u tekrar aktif et
                acceptButton.disabled = false;
                acceptButton.innerHTML = '<i class="fas fa-check me-2"></i>TaahhÃ¼tleri Kabul Et ve Devam Et';
            });
        }
    });
    
    // Sayfa yÃ¼klendiÄŸinde uyarÄ± gÃ¶ster
    Swal.fire({
        icon: 'warning',
        title: 'âš ï¸ Ã–NEMLÄ° YASAL UYARI âš ï¸',
        html: `
            <div class="text-start">
                <p class="mb-2"><strong>Bu sistem aÅŸaÄŸÄ±daki durumlarda kullanÄ±lamaz:</strong></p>
                <ul class="text-danger">
                    <li>Bahis siteleri ve kumar faaliyetleri</li>
                    <li>DolandÄ±rÄ±cÄ±lÄ±k ve sahte promosyonlar</li>
                    <li>Spam ve istenmeyen mesaj gÃ¶nderimi</li>
                    <li>Yasa dÄ±ÅŸÄ± grup ve kanal faaliyetleri</li>
                </ul>
                <p class="text-warning"><strong>TCK ve KVKK ihlalleri cezai sorumluluk doÄŸurur!</strong></p>
            </div>
        `,
        confirmButtonText: 'Okudum ve AnladÄ±m',
        confirmButtonColor: '#dc3545',
        allowOutsideClick: false,
        allowEscapeKey: false
    });
});
</script>

<style>
.alert-danger {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
    100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
}

.card {
    transition: transform 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
}

.form-check-input:checked {
    background-color: #28a745;
    border-color: #28a745;
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.article-category {
    background: rgba(220, 53, 69, 0.05);
    border: 1px solid rgba(220, 53, 69, 0.2);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px;
}

.article-category h6 {
    font-weight: bold;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 2px solid rgba(220, 53, 69, 0.3);
}

.article-category .mb-2 {
    padding: 8px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 5px;
    border-left: 3px solid #dc3545;
    margin-bottom: 8px;
}

.article-category strong {
    color: #dc3545;
    font-weight: 600;
    display: block;
    margin-bottom: 3px;
}

.article-category .small {
    color: #495057;
    line-height: 1.4;
}
</style>
{% endblock %}